<!DOCTYPE html>
<html>
	<head>
	    <script src="lib/box2d.min.js"></script>
		<script src="../build/yespix.js"></script>
	</head>
	<body>
		<script type="text/javascript">


yespix();

///////////////////////////////////////////////////////////////

var worldOptions = {
	gravity: 20,
	scale: 30,
	friction: 0.1,
	linearDamping: 0.1,
	restitution: 0.1,
	density: 0.1
};

var actorOptions = {
	speedWalk: 1.7,
	speedJump: 0.2,
	speedUp: 0.1,
	speedTimeJump: 0.3,
	speedAir: 0.05,
	speedMax: 10,
	frictionAir: 0.3,
	frictionGround: 2,
	frictionIdle: 5
};

var collisionOptions = {
	offsetX: 0,
	offsetY: 0,
	width: 50,
	height: 100,
	linearDamping: 1,
	restitution: 0,
	density: 0,
	fixedRotation: true,
	isBullet: true
};

///////////////////////////////////////////////////////////////

var physics = new yespix.class.physicsBox2d(worldOptions);
collisionOptions.physics = physics;
actorOptions.input = new yespix.class.input();
var player = new yespix.entity.gfx({});
player.actor = new yespix.class.player2w(actorOptions, player);
player.collision = new yespix.class.collision(collisionOptions, player);

var manager = new yespix.class.gfxManager(true);
manager.setPhysics(physics);
manager.add(player);
var loop = new yespix.class.loop(100);
loop.register(
	function(loop, time) { 
		manager.applyPhysics();
		manager.clear();
        manager.drawDebug();
	}, 
	function(loop, time) { 
		manager.physics.world.Step(time/1000, 500, 50);
	}
).start();

manager.physics.createRect(0, 400, 640, 10, {type: 'static'});


		</script>
	</body>
</html>
