<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript" src="../build/yespix.js"></script>
	</head>
	<body style="background-color: #789;">
		<script type="text/javascript">
	

	// init yespix engine
	yespix();

	// create gfx manager
	var manager = new GfxManager(true);

	//////////////////////////////////////////////////////////////////////////////
	// UNIT ElementList
	//////////////////////////////////////////////////////////////////////////////
	// create 1
	//var object = new ElementList({});
	//object.add({test: 'test'});
	//console.log(object);
	//////////////////////////////////////////////////////////////////////////////
	// create 3
	//var object = new ElementList({});
	//object.add({test: 'test 1'});
	//object.add({test: 'test 2'});
	//object.add({test: 'test 3'});
	//console.log(object);
	//////////////////////////////////////////////////////////////////////////////
	


	//////////////////////////////////////////////////////////////////////////////
	// UNIT TEST IMAGE
	//////////////////////////////////////////////////////////////////////////////
	// options as string
	manager.add(new yespix.class.image('unit/image/sean.png'));
	//////////////////////////////////////////////////////////////////////////////
	// image as string
	//manager.add(new yespix.class.image({image: 'unit/image/zardoz.png'}));
	//////////////////////////////////////////////////////////////////////////////
	// src as string
	//manager.add(new yespix.class.image({image: {src: 'unit/image/sean.png', scale: 2.0}}));
	//////////////////////////////////////////////////////////////////////////////
	// scale after load
	//manager.add(new yespix.class.image('unit/image/sean.png'));
	//setTimeout(function () { manager.list[0].image.set({scale: 2.0}); }, 2000);
	//////////////////////////////////////////////////////////////////////////////
	// dont load
	//manager.add(new yespix.class.image('unit/image/sean.png'));
	//console.log('isLoading? ', manager.list[0].image.isLoading, ', isReady? ', manager.list[0].image.isReady);
	//manager.loadAssets();
	//console.log('isLoading? ', manager.list[0].image.isLoading, ', isReady? ', manager.list[0].image.isReady);
	//setTimeout(function () { console.log('isLoading? ', manager.list[0].image.isLoading, ', isReady? ', manager.list[0].image.isReady); }, 2000);
	//////////////////////////////////////////////////////////////////////////////
	// handle multiple images
	//var objects = {
	//	zardoz: new yespix.class.image({image: {src: 'unit/image/zardoz.png', scale: 2.0}, position: {z: 20}}),
	//	sean: new yespix.class.image({image: {src: 'unit/image/sean.png', scale: 1.0}, position: {z: 10}})
	//};
	//manager.add(objects.zardoz, objects.sean);
	//////////////////////////////////////////////////////////////////////////////
	// clip
	//manager.add(new yespix.class.image('unit/image/zardoz.png'));
	//manager.list[0].set({aspect: {clipX: 20, clipY: 20, clipWidth: 20, clipHeight: 20, width: 20, height: 20}, image: {autoSize: false}});


	//////////////////////////////////////////////////////////////////////////////
	// UNIT TEST SOUND
	//////////////////////////////////////////////////////////////////////////////
	// options as string
	//manager.add(new yespix.class.sound('unit/sound/wilhelm.ogg'));
	//manager.list[0].sound.autoPlay = true;
	//////////////////////////////////////////////////////////////////////////////
	// sound as string
	//manager.add(new yespix.class.sound({sound: 'unit/sound/wilhelm.ogg'}));
	//manager.list[0].sound.autoPlay = true;
	//////////////////////////////////////////////////////////////////////////////
	// dont load before play
	//manager.add(new yespix.class.sound('unit/sound/wilhelm.ogg'));
	//console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady);
	//manager.loadAssets();
	//console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady);
	//setTimeout(function () { console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady); manager.list[0].sound.play(); }, 2000);
	//////////////////////////////////////////////////////////////////////////////
	// autoplay
	//manager.add(new yespix.class.sound('unit/sound/wilhelm.ogg'));
	//manager.list[0].sound.autoPlay = true;
	//console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady);
	//setTimeout(function () { console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady); }, 2000);
	//////////////////////////////////////////////////////////////////////////////
	// autoload
	//manager.add(new yespix.class.sound('unit/sound/wilhelm.ogg'));
	//manager.list[0].sound.autoLoad = true;
	//console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady);
	//setTimeout(function () { console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady); }, 2000);
	//////////////////////////////////////////////////////////////////////////////
	// no autoload nor autoload
	//manager.add(new yespix.class.sound('unit/sound/wilhelm.ogg'));
	//console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady);
	//setTimeout(function () { console.log('isLoading? ', manager.list[0].sound.isLoading, ', isReady? ', manager.list[0].sound.isReady); }, 2000);
	//////////////////////////////////////////////////////////////////////////////
	

	//////////////////////////////////////////////////////////////////////////////
	// UNIT TEST SPRITE
	//////////////////////////////////////////////////////////////////////////////
	// simple	
	//manager.add(new yespix.class.sprite({ image: 'unit/image/perso.png', sprite: { width: 32, height: 32 } }));
	//////////////////////////////////////////////////////////////////////////////
	// frame select
	//manager.add(new yespix.class.sprite({ image: 'unit/image/perso.png', sprite: { width: 32, height: 32 } }));
	//manager.list[0].sprite.select(3);
	//////////////////////////////////////////////////////////////////////////////
	// image object and scale
	//manager.add(new yespix.class.sprite({ image: {src: 'unit/image/perso.png', scale: 2}, sprite: { width: 32, height: 32 } }));
	//manager.list[0].sprite.select(3);


	//////////////////////////////////////////////////////////////////////////////
	// UNIT TEST LOOP
	//////////////////////////////////////////////////////////////////////////////
	// loop on console 1/sec
	var loop = new Loop(100);
	loop.register(
		function(loop, time) { console.log('frame: time = '+time); manager.clear(); manager.draw(); }, 
		function(loop, time) { console.log('step: time = '+time); }
	);
	loop.start();
	setTimeout(function () { loop.stop(); }, 2000);

	manager.load();

	/*
	// draw every entity in the manager
	manager.when('ready', function(e) {
		manager.draw();
	});
	*/
	console.log('manager = ', manager);
	console.log('loop = ', loop);

		</script>

	</body>
</html>
