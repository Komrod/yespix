<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="../build/yespix.js"></script>
</head>
<body style="background-color: #456;">

<canvas width="800" height="500" id="canvas" style="border: 10px solid #123;"></canvas>

<script type="text/javascript">
	
    var canvas = document.getElementById('canvas');
    yespix();
    var manager = new yespix.class.gfxManager(canvas);


    manager.add(new yespix.entity.animation({
        position: {
            x: 100,
            y: 100
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png',
            scale: 2.0,
        },
        animation: {
            defaultAnimation: 'idle',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                idle: {
                    frames: [0, 1, 2, 3, 4, 5, 6]
                }
            },
        }
    }));

    manager.add(new yespix.entity.animation({
        position: {
            x: 175,
            y: 100
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png',
            scale: 2.0,
        },
        animation: {
            defaultAnimation: 'punch_right',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                punch_right: {

                    frames: [8, 9, 10, 11, 12]
                }
            },
        }
    }));

    manager.add(new yespix.entity.animation({
        position: {
            x: 250,
            y: 100
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png',
            scale: 2.0,
        },
        animation: {
            defaultAnimation: 'punch_left',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                punch_left: {

                    frames: [16, 17, 18, 19, 20]
                }
            },
        }
    }));

    manager.add(new yespix.entity.animation({
        position: {
            x: 325,
            y: 100
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png',
            scale: 2.0,
        },
        animation: {
            defaultAnimation: 'run',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                run: {
                    frames: [24, 25, 26, 27, 28 ,29, 30, 31]
                }
            },
        }
    }));

    manager.add(new yespix.entity.animation({
        position: {
            x: 100,
            y: 175
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png',
            scale: 2.0,
        },
        animation: {
            defaultAnimation: 'run',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                run: {
                    flipX: true,
                    frames: [24, 25, 26, 27, 28 ,29, 30, 31]
                }
            },
        }
    }));
    manager.add(new yespix.entity.animation({
        position: {
            x: 175,
            y: 190
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png',
            scale: 2.0,
        },
        animation: {
            defaultAnimation: 'run',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                run: {
                    flipY: true,
                    frames: [24, 25, 26, 27, 28 ,29, 30, 31]
                }
            },
        }
    }));
    manager.add(new yespix.entity.animation({
        position: {
            x: 250,
            y: 190
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png',
            scale: 2.0,
        },
        animation: {
            defaultAnimation: 'run',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                run: {
                    flipX: true,
                    flipY: true,
                    frames: [24, 25, 26, 27, 28 ,29, 30, 31]
                }
            },
        }
    }));


    manager.add(new yespix.entity.animation({
        position: {
            x: 100,
            y: 250
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png',
            scale: 2.0,
        },
        animation: {
            defaultAnimation: 'run',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                run: {
                    from: 24,
                    length: 8
                }
            },
        }
    }));

    manager.add(new yespix.entity.animation({
        position: {
            x: 175,
            y: 280
        },
        aspect: {
            alpha: 0.1,
        },
        image: {
            src: 'chuck/player.png'
        },
        animation: {
            defaultAnimation: 'run',
            defaultSprite: 'perso',
            defaultDuration: 150,
            sprites: {
                perso: {
                    width: 32,
                    height: 40,
                }
            },
            list: {
                run: {
                    from: 24,
                    length: 8
                }
            },
        }
    }));


/*
    var anim = new yespix.entity.animation({
        
        aspect: {
            x: 50, 
            y: 100
        },

        image: 'chuck/player.png',

        animation: {
            sprites: {},

            animDefault:
            {
                width: 32,      
                height: 40,
                name: 'walk',
                duration: 100,
            },
            anims: {
                'walk': {
                    from: 24,
                    length: 8
                },
            },
        },
        imageScale: 1,
        debug: true
    });

    manager.add(anim);

    anim.load();
*/


/*    
    yp.spawn('anim', {
        x: 100, 
        y: 100,
        images: 'chuck/player.png',
        animDefault:
        {
            width: 32,      
            height: 40,
            name: 'idle',
            duration: 100,
        },
        anims: {
            'idle': {
                length: 7
            },
        },
        imageScale: 2,
        debug: true
    });
    
    yp.spawn('anim', {
        x: 200, 
        y: 100,
        images: 'chuck/player.png',
        animDefault:
        {
            width: 32,
            height: 40,
            name: 'punchleft',
            duration: 100,
        },
        anims: {
            'punchright': {
                from: 8,
                length: 5
            },
            'punchleft': {
                extendsFrom: 'punchright',
                flipX: true
            },
        },
        imageScale: 3,
        debug: true
    });
    
    yp.spawn('anim', {
        x: 300, 
        y: 100,
        images: 'chuck/player.png',
        animDefault:
        {
            width: 32,
            height: 40,
            name: 'punchleft',
            duration: 100,
        },
        anims: {
            'punchright': {
                from: 8,
                length: 5
            },
            'punchleft': {
                extendsFrom: 'punchright',
                flipX: true,
                flipY: true
            },
        },
        imageScale: 3,
        debug: true
    });
*/



    // create loop
    var loop = new yespix.class.loop(60);

    // register tick and frame functions
    loop.register(
        function(loop, time) { 
            manager.clear(); // clear canvas
            manager.draw(); // draw debug
            //manager.drawDebug(); // draw debug
            manager.drawFps(time, 60);
        }, 
        function(loop, time) { 
            //manager.step(time);
            //manager.applyPhysics(time); // apply position from physics engine
        }
    ).start();


   
 
</script>
</body>
</html>
