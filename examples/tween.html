<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="../build/yespix.js"></script>
	<script type="text/javascript" src="lib/shifty.min.js"></script>
</head>
<body style="background-color: #456;">

<canvas width="800" height="500" id="canvas" style="border: 10px solid #123;"></canvas>

<script type="text/javascript">
	

	var canvas = document.getElementById('canvas');
	yespix();
	var manager = new yespix.class.gfxManager(canvas);


	for (var t=0; t<200; t++) {
		new yespix.entity.path({
			aspect: {
				width: 0,
				height: 0,
				alpha: 0,
			},
			position: {
				x: 400,
				y: 250,
				z: 10,
				rotation: 100
			},
			tween: [
				{
					delay: 1000 + yespix.randInt(0,200),
					duration: 1000 + yespix.randInt(0, 2000),
					easing: 'easeOutBounce',
					to: {
						aspect: { width: yespix.randInt(10, 50), height: yespix.randInt(10, 50) },
						position: { x: yespix.randInt(-50, 800), y: yespix.randInt(-50, 500) },
						path : { fillColor: '#ffeb3b' }
					}
				},
				{
					delay: 1000,
					duration: 1200,
					easing: 'easeInOutCubic',
					to: {
						position: { rotation: yespix.randInt(-360, 360) },
					}
				},
				{
					delay: 1000,
					duration: 500,
					to: {
						aspect: { alpha: 1.0 },
					}
				},
			],
			path: {
				type: 'rect',
				lineColor: '',
				lineWidth: 3,
				fillColor: '#ff0000'
			},
			manager: manager
		});
	}


/*
	new yespix.entity.path({
		aspect: {
			width: 100,
			height: 100,
		},
		position: {
			x: 100,
			y: 250,
			z: 10,
		},
		tween: [
			{
				duration: 5000,
				easing: 'linear',
				to: {
					position: { x: 600 },
					path : { fillColor: '#00ff00' }
				}
			},
			{
				delay: 2500,
				duration: 1000,
				easing: 'linear',
				to: {
					position: { x: 100, y: 100 }
				}
			}
		],
		path: {
			type: 'rect',
			lineColor: '',
			lineWidth: 3,
			fillColor: '#ff0000'
		},
		manager: manager
	});
*/


	new yespix.entity.path({
		aspect: {
			width: 100,
			height: 100,
		},
		position: {
			x: 100,
			y: 250,
			z: 10,
		},
		tween: [
			{
				delay: 1000,
				duration: 1000,
				easing: 'linear',
				to: {
					position: { x: 600 },
					path : { fillColor: '#00ff00' }
				}
			},
			{
				delay: 4000,
				duration: 1000,
				easing: 'linear',
				to: {
					position: { x: 100, y: 100 }
				}
			}
		],
		path: {
			type: 'rect',
			lineColor: '',
			lineWidth: 3,
			fillColor: '#ff0000'
		},
		manager: manager
	});


	// create loop
	var loop = new yespix.class.loop(60);
	loop.register(
		function(loop, time) { 
            manager.clear(); // clear canvas
            manager.draw(); // draw
            manager.drawFps(time, 60);
		}, 
		function(loop, time) {
            manager.step(time); // step
		}
	).start();


//console.log(manager.list);


</script>

</body>
</html>
