<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="../engine/yespix.js"></script>
</head>
<body style="background-color: #456;">
<script type="text/javascript">
	
	var yp = yespix({canvas: {width: 600, height: 400}, fps: 60});
    
	yp.spawn('fps', {fpsOnlyStats: true, fpsAverageTime: 100});

    yp.spawn('rect',
            {
                x: 50,
                y: 50,
                width: 30,
                height: 30,
                lineWidth: 3,
                lineColor: '#F6FC2D',
            });

    yp.spawn('rect',
            {
                x: 100,
                y: 50,
                width: 30,
                height: 30,
                fillColor: '#19D1FF',
            });

    yp.spawn('rect',
            {
                x: 150,
                y: 50,
                width: 30,
                height: 30,
                lineWidth: 3,
                lineColor: '#F6FC2D',
                fillColor: '#19D1FF',
            });

    yp.spawn('roundrect',
            {
                x: 50,
                y: 110,
                width: 30,
                height: 30,
                lineWidth: 3,
                borderRadius: 10,        
                lineColor: '#F6FC2D',
                fillColor: '',
            });

    yp.spawn('roundrect',
            {
                x: 100,
                y: 110,
                width: 30,
                height: 30,
                borderRadius: 10,        
                fillColor: '#19D1FF',
            });

    yp.spawn('roundrect',
            {
                x: 150,
                y: 110,
                width: 30,
                height: 30,
                lineWidth: 3,
                borderRadius: 10,        
                lineColor: '#F6FC2D',
                fillColor: '#19D1FF',
            });

    yp.spawn('circle',
            {
                x: 50,
                y: 170,
                circleRadius:15,
                lineWidth: 3,
                lineColor: '#F6FC2D',
                fillColor: '',
            });

    yp.spawn('circle',
            {
                x: 100,
                y: 170,
                circleRadius:15,
                lineColor: '',
                fillColor: '#19D1FF',
            });

    yp.spawn('circle',
            {
                x: 150,
                y: 170,
                circleRadius:15,
                lineWidth: 3,
                lineColor: '#F6FC2D',
                fillColor: '#19D1FF',
            });
    
    yp.spawn('image',
            {
                x: 200,
                y: 50,
                images: 'zardoz/image/zardoz_small.png'
            });
     
    yp.spawn('text',
            {
                x: 50,
                y: 240,
                text: "This is a text",
                textColor: '#19D1FF',
            });


    yp.spawn('anim',
            {
                x: 350,
                y: 50,
                images: 'chuck/player.png',
                animDefault:
                {
                    width: 32,
                    height: 40,
                    name: 'walk',
                    duration: 150,
                },
                anims:
                {
                    walk:
                    {
                        from: 24,
                        length: 8,
                    },
                }
            });
    
    yp.spawn('anim',
            {
                x: 400,
                y: 50,
                images: 'chuck/player.png',
                imageScale: 2,
                animDefault:
                {
                    width: 32,
                    height: 40,
                    name: 'walk',
                    duration: 150,
                },
                anims:
                {
                    walk:
                    {
                        from: 24,
                        length: 8,
                    },
                }
            });
    
    yp.spawn('anim',
            {
                x: 450,
                y: 50,
                images: 'chuck/player.png',
                imageScale: 3,
                animDefault:
                {
                    width: 32,
                    height: 40,
                    name: 'walk',
                    duration: 150,
                },
                anims:
                {
                    walk:
                    {
                        from: 24,
                        length: 8,
                    },
                }
            });

    var z = 100;
    /*for (var x=0; x<700; x++) {
        for (var y=300; y<302; y++) {
            z++;
            yp.spawn('anim',
                    {
                        x: x,
                        y: y,
                        z: z,
                        images: 'chuck/player.png',
                        imageScale: 1,
                        animDefault:
                        {
                            width: 32,
                            height: 40,
                            name: 'walk',
                            duration: 150,
                        },
                        anims:
                        {
                            walk:
                            {
                                from: 24,
                                length: 8,
                            },
                        }
                    });
            /*yp.spawn('image',
                    {
                        x: x,
                        y: y,
                        images: 'zardoz/image/zardoz_small.png'
                    });*/
            /*yp.spawn('text',
                    {
                        x: x,
                        y: y,
                        text: "This is a text",
                        textColor: '#19D1FF',
                    });*/
    //    }
    //}

    var timer = 0;
    var moveBool = false;

    setTimeout(function() {
        console.log('spawned');
        yp.spawn('anim',
                {
                    x: 50,
                    y: 200,
                    z: 1000,
                    images: 'chuck/player.png',
                    imageScale: 4,
                    animDefault:
                    {
                        width: 32,
                        height: 40,
                        name: 'walk',
                        duration: 150,
                    },
                    anims:
                    {
                        walk:
                        {
                            from: 24,
                            length: 8,
                        },
                    }
                });

    }, 3000);

    function switchMove()
    {
        if (timer) clearInterval(timer);
        /*setInterval(function () {
            moveBool = !moveBool;
            if (moveBool) yespix.find('.image').prop('y', 250);
            else yespix.find('.image').prop('y', 300);
        }, 50);*/
        timer = setInterval(function () {
            yespix.find().prop('_changed', true);
        }, 10);
    }

    function switchDebug(name)
    {
        name = name || '';
        var options = {};
        var value = !document['options_debug'+name];
        document['options_debug'+name] = value;
        options['debug'+name] = value;
        console.log('set debug'+name+' property to value "'+value+'"');
        yespix.find().prop(options);
    }

    function switchAlpha()
    {
        var options = {};
        var value = !document['options_alpha'] ? 1 : 0;
        document['options_alpha'] = value;
        options['alpha'] = value;
        console.log('set alpha property to value "'+value+'"');
        yespix.find().prop(options);
    }

</script>
<br/>
<input value="Move" onClick="switchMove()" href="javascript:void(0)" type="button">
<input value="Debug" onClick="switchDebug()" href="javascript:void(0)" type="button">
<input value="Alpha" onClick="switchAlpha();" href="javascript:void(0)" type="button">
<input value="Position" onClick="switchDebug('Position');" href="javascript:void(0)" type="button">
<input value="Image" onClick="switchDebug('Image');" href="javascript:void(0)" type="button">
<input value="Collision" onClick="switchDebug('Collision');" href="javascript:void(0)" type="button">
<input value="Move" onClick="switchDebug('Move');" href="javascript:void(0)" type="button">
</body>
</html>